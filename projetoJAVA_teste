package Aula06_For;

import java.util.Scanner;

public class ativ {
    public static void main(String[] args) {
        

        Scanner scanner = new Scanner(System.in);

        // Dados fixos de login
        String usuarioCorreto = "admin";
        String senhaCorreta = "1234";
        int tentativas = 0;
        boolean loginSucesso = false;

        // Dados banc√°rios
        String nomeCliente = "Jo√£o Silva";
        String numeroConta = "12345-6";
        double saldo = 1000.00;

        // Hist√≥rico
        String[] historico = new String[100];
        int totalTransacoes = 0;

        // üîê Login com at√© 3 tentativas
        while (tentativas < 3) {
            System.out.print("Usu√°rio: ");
            String usuario = scanner.nextLine();

            System.out.print("Senha: ");
            String senha = scanner.nextLine();

            if (usuario.equals(usuarioCorreto) && senha.equals(senhaCorreta)) {
                loginSucesso = true;
                break;
            } else {
                tentativas++;
                System.out.println("Login inv√°lido. Tentativas restantes: " + (3 - tentativas));
            }
        }

        if (!loginSucesso) {
            System.out.println("Usu√°rio bloqueado. Contate o administrador.");
            return;
        }

        int opcao;

        // üîÑ Loop de opera√ß√µes
        do {
            System.out.println("\n=== MENU PRINCIPAL ===");
            System.out.println("1 - Consultar Saldo üí∞");
            System.out.println("2 - Hist√≥rico de Transa√ß√µes üìú");
            System.out.println("3 - Realizar Dep√≥sito üíµ");
            System.out.println("4 - Realizar Saque üèß");
            System.out.println("5 - Sair ‚ùå");
            System.out.print("Escolha uma op√ß√£o: ");
            opcao = scanner.nextInt();
            scanner.nextLine(); // Limpar buffer

            switch (opcao) {
                case 1:
                    // üí∞ Consulta de Saldo
                    System.out.println("\n------ COMPROVANTE DE SALDO ------");
                    System.out.println("Cliente: " + nomeCliente);
                    System.out.println("Conta: " + numeroConta);
                    System.out.printf("Saldo atual: R$ %.2f\n", saldo);
                    System.out.println("----------------------------------");
                    break;

                case 2:
                    // üìú Hist√≥rico de Transa√ß√µes
                    System.out.println("\n====== HIST√ìRICO DE TRANSA√á√ïES ======");
                    if (totalTransacoes == 0) {
                        System.out.println("Nenhuma transa√ß√£o registrada.");
                    } else {
                        for (int i = 0; i < totalTransacoes; i++) {
                            System.out.println((i + 1) + ". " + historico[i]);
                        }
                    }
                    System.out.println("=====================================");
                    break;

                case 3:
                    // üíµ Dep√≥sitos
                    System.out.print("Informe o valor a depositar: R$ ");
                    double valorDeposito = scanner.nextDouble();
                    scanner.nextLine(); // Limpar buffer

                    if (valorDeposito <= 0) {
                        System.out.println("Valor inv√°lido.");
                    } else {
                        saldo += valorDeposito;
                        historico[totalTransacoes] = "Dep√≥sito: +R$ " + String.format("%.2f", valorDeposito);
                        totalTransacoes++;

                        System.out.println("\n------ COMPROVANTE DE DEP√ìSITO ------");
                        System.out.println("Cliente: " + nomeCliente);
                        System.out.println("Conta: " + numeroConta);
                        System.out.printf("Valor depositado: R$ %.2f\n", valorDeposito);
                        System.out.printf("Saldo atualizado: R$ %.2f\n", saldo);
                        System.out.println("-------------------------------------");
                    }
                    break;

                case 4:
                    // üèß Saques
                    System.out.print("Informe o valor do saque: R$ ");
                    double valorSaque = scanner.nextDouble();
                    scanner.nextLine(); // Limpar buffer

                    if (valorSaque <= 0) {
                        System.out.println("Valor inv√°lido.");
                    } else if (valorSaque > saldo) {
                        System.out.println("Saldo insuficiente.");
                    } else {
                        saldo -= valorSaque;
                        historico[totalTransacoes] = "Saque: -R$ " + String.format("%.2f", valorSaque);
                        totalTransacoes++;

                        System.out.println("\n------ COMPROVANTE DE SAQUE ------");
                        System.out.println("Cliente: " + nomeCliente);
                        System.out.println("Conta: " + numeroConta);
                        System.out.printf("Valor sacado: R$ %.2f\n", valorSaque);
                        System.out.printf("Saldo atualizado: R$ %.2f\n", saldo);
                        System.out.println("----------------------------------");
                    }
                    break;

                case 5:
                    System.out.println("Obrigado por usar o sistema banc√°rio. At√© logo!");
                    break;

                default:
                    System.out.println("Op√ß√£o inv√°lida. Tente novamente.");
            }

        } while (opcao != 5);
        
        scanner.close();
    }
}
    
    

